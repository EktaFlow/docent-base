<topbar [assessmentId]= "assessmentId"
        [subTitle]    = "subTitle"
				[mainTitle]   = "mainTitle"> </topbar>

<ion-content padding>
  <br><br><br><br><br><br><br><br><br><br>
  <div class = "nav">
    <div id='surveyElement' class = "questions" (change)="surveyChange()">
    </div>

    <div style="margin-top:10px;display:flex;">
        <button ion-button color="buttonBlue" (click) = "handlePreviousPageClick()">Previous</button>
        <button ion-button color="buttonBlue" (click) = "handleNextPageClick()">Next/Skip</button>
    </div>
  </div>

  <div *ngIf="this.value == 'Yes'" class = "yes">
      <h6>Objective Evidence</h6>
      <textarea id="aaa" class="question-input" [(ngModel)]="vals.objectiveEvidence" placeholder="Enter objective evidence here..."></textarea>
      <h6>Assumptions</h6>
      <textarea class="question-input" [(ngModel)]="vals.assumptionsYes" placeholder="Enter any assumptions here..."></textarea>
      <h6>Notes</h6>
      <textarea class="question-input" [(ngModel)]="vals.notesYes" placeholder="Enter notes here..."></textarea>
      <div style="width:50%;margin:10px 0px 0px 0px;">
        <button (click)="showFileUpload($event)" ion-button color="dark">Attatch File</button>
      </div>
    </div>
  
  
  
    <div *ngIf="value == 'No'" class = "no">
      <h3 style="margin-top:30px"><b>ACTION PLAN</b></h3>
				<!-- SAVE THIS FOR AUTH
      <div style="display:flex;flex-direction:row;justify-content:space-between;width:30%;height:60%;">      
        <button style="background:white;">
          <label style="color:#32db64;font-size:16px;" (click)="addPerson(who.value)"><b>Add Action Person</b></label>
          <ion-icon name="add-circle" color = "secondary"></ion-icon>
        </button>
        <button style="background:white;">
          <label style="color:#f53d3d;font-size:16px;" (click)="removePerson()"><b>Remove</b></label>
          <ion-icon name="remove-circle" color = "danger"></ion-icon>
        </button>
      </div>
				-->
      <br>
      <br>
      <div class="who-when">
        <div style="display:flex; flex-direction:column">   
          <li *ngFor = "let persons of actionPerson">
            <pre>{{persons}}</pre>
          </li>
          <h6>Who</h6>
          <input class="question-input" [(ngModel)]="vals.who" name="who" style="width: 200%;" #who>
        </div>
        <div style="display:flex; flex-direction:column">
          <h6>When</h6>
          <input class="question-input" [(ngModel)]="vals.when" name= "when" type="date" >
        </div>
      </div>
      <h6>Risk</h6>
			<div>

			</div>
      <div class="risk">
				<!--
        Technical<input class="question-input" name="technical" value="technical" [(ngModel)]="noVals.technical" type="checkbox"> 
        Cost<input class="question-input" [(ngModel)]="noVals.cost" type="checkbox"> 
        Schedule<input class="question-input" [(ngModel)]="noVals.schedule" type="checkbox"> 
				-->
				        <ion-label class=""> Technical</ion-label>
								<ion-checkbox checked="false" [(ngModel)]="vals.technical"></ion-checkbox>
				        <ion-label class=""> Cost</ion-label>
								<ion-checkbox checked="false" [(ngModel)]="vals.cost"></ion-checkbox>
				        <ion-label class=""> Schedule</ion-label>
								<ion-checkbox checked="false" [(ngModel)]="vals.schedule"></ion-checkbox>
      </div>
      <h6>What</h6>
      <textarea class="question-input" [(ngModel)]="vals.what" placeholder="What needs to be done to meet this objective?"></textarea>
      <h6>Reason</h6>
      <textarea class="question-input" [(ngModel)]="vals.reason" placeholder="Reason that criteria is not met..."></textarea>
      <h6>Assumptions</h6>
      <textarea class="question-input" [(ngModel)]="vals.assumptionsNo" placeholder="Enter any assumptions here..."></textarea>
      <h6>Notes</h6>
      <textarea class="question-input" [(ngModel)]="vals.notesNo" placeholder="Enter notes here..."></textarea>
      <div style="width:50%;margin:10px 0px 0px 0px;">
          <button (click)="showFileUpload($event)" ion-button color="dark">Attatch File</button>
      </div>
		 </div>

    <div *ngIf="value == 'N/A'" class = "na">
      <h6>Documentation</h6>
      <textarea class="question-input" [(ngModel)]="vals.documentation" placeholder="Document why this question is not applicable..."></textarea>
      <hr>
      <h6>Assumptions</h6>
      <textarea class="question-input" [(ngModel)]="vals.assumptionsNA" placeholder="Enter any assumptions here..."></textarea>
      <h6>Notes</h6>
      <textarea class="question-input" [(ngModel)]="vals.notesNA" placeholder="Enter notes here..."></textarea>
      <div style="width:50%; margin:10px 0px 0px 0px;">
        <button (click)="showFileUpload($event)" ion-button color="dark">Attatch File</button>
      </div>
    </div>

<div style="margin-top:20px" *ngIf="files.length > 0"class="displayFiles">
	<h6>Attachments</h6>
	<div *ngFor="let file of files" class="file">
		<p *ngIf="file.questionId == questionId"><a href={{file.url}}>{{file.name}}</a></p>
		<!-- <img src="../../assets/imgs/redxMark.ico" class="img" (click)="handleFileRemove()"> -->
	</div>
</div>


</ion-content>
