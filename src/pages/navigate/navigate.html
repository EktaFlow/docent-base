<topbar [assessmentId]="assessmentId"
              [pageName]="pageName">
</topbar>

<ion-content padding class="wrapper">

  <!-- <br><br><br><br><br><br><br><br><br><br> -->

  <report-info-card [assessmentId]="assessmentId"></report-info-card>


<div class="filter-toolbar">
  <button *ngIf="!showAll" ion-button (click)="expandAllThreads()" color="buttonBlue">Expand All</button>
  <button *ngIf="showAll" ion-button (click)="expandAllThreads()" color="buttonBlue">Close All</button>
  <div class="filter-list">
    <p>Filter MR Level: </p>
    <select name="filterMRL" id="filter-mrl-select" [(ngModel)]="filterList.filterMRL">
      <option value="" disabled selected>Select One...</option>
      <option value = "1">1</option>
      <option value = "2">2</option>
      <option value = "3">3</option>
      <option value = "4">4</option>
      <option value = "5">5</option>
      <option value = "6">6</option>
      <option value = "7">7</option>
      <option value = "8">8</option>
      <option value = "9">9</option>
      <option value = "10">10</option>
    </select>
    <button class="filter-buttons" (click)="filterTheList()" ion-button small color="buttonBlue">Filter</button>
    <button class="filter-buttons" ion-button small (click)="clearFilter()" color="buttonBlue">Clear</button>



  </div>
</div>

    <!-- <br><br><br><br><br> -->
      <!-- <br><br><br><br><br><br><br><br><br><br> -->
  <!-- <hr> -->

  <div class="desktop">

  <div *ngFor="let segment of filteredSchema">
      <img src="assets/imgs/if_icon-arrow-down.png" (click)="changeState(segment)" class= "downArrow" >
      {{segment.header}}
    <div *ngIf="segment.cool || showAll">
      <div *ngFor="let sub of segment.subheader">
          <img src="assets/imgs/if_icon-arrow-down.png" class= "downArrow" (click)="changeSubState(sub)" class="subtitle">
          {{sub.subheader}}
        <div *ngIf="sub.sweet || showAll">
          <div *ngFor="let question of sub.questions" class="mrl">
            <b>MR Level {{question.mrl}}:</b>
            <div *ngFor="let title of question.questionSet" class="question">
              <p class="navigate-links"  (click)="navToQuestion(title.questionId)" id={{title.questionId}}> <span *ngIf="title.questionStatus"> <p ion-button small [color]="pickColor(title.questionStatus)" class="status-button">{{title.questionStatus}}</p></span> {{title.text}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr>
  </div>
  </div>

  <div class="mobile">
    <div *ngFor="let segment of filteredSchema">
      <div class="thread-name" (click)="changeState(segment)">
        <h3>{{segment.header}} <span><img src="assets/imgs/if_icon-arrow-down.png" class= "downArrow" ></span></h3>
      </div>

      <div *ngIf="segment.cool || showAll">
        <div *ngFor="let sub of segment.subheader">
          <div class="subthread-name" (click)="changeSubState(sub)">
            <h5>{{sub.subheader}} <span><img src="assets/imgs/if_icon-arrow-down.png" class= "downArrow"></span></h5>

          </div>

          <div *ngIf="sub.sweet || showAll">
            <div *ngFor="let question of sub.questions" class="mrl">
              <b>MR Level {{question.mrl}}:</b>
              <div *ngFor="let title of question.questionSet" class="question">
                <p class="navigate-links"  (click)="navToQuestion(title.questionId)"> <span *ngIf="title.questionStatus"> <p ion-button small [color]="pickColor(title.questionStatus)" class="status-button">{{title.questionStatus}}</p></span> {{title.text}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- <hr> -->
    </div>
  </div>

  <div class="qspacer"></div>

</ion-content>
