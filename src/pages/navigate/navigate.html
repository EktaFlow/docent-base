<topbar [assessmentId]="assessmentId">
</topbar>

<ion-content padding>
<div class="filter-toolbar">
  <div *ngIf="!showAll">
    <button ion-button (click)="expandAllThreads()">Expand All</button>
  </div>
  <div *ngIf="showAll">
    <button ion-button (click)="expandAllThreads()">Close All</button>
  </div>

  <div class="filter-list">
    <p>Filter MR Level: </p>
    <select name="filterMRL" [(ngModel)]="filterList.filterMRL">
      <option value="" disabled selected>Select One...</option>
      <option value="0">All</option>
      <option value = "1">1</option>
      <option value = "2">2</option>
      <option value = "3">3</option>
      <option value = "4">4</option>
      <option value = "5">5</option>
      <option value = "6">6</option>
      <option value = "7">7</option>
      <option value = "8">8</option>
      <option value = "9">9</option>
      <option value = "10">10</option>
    </select>
    <button class="filter-it" (click)="filterTheList()" ion-button small>Filter</button>

  </div>
</div>

    <br><br>
    <!-- <br><br><br><br><br> -->
      <!-- <br><br><br><br><br><br><br><br><br><br> -->
  <br><br><br><br><br><br><br><br><br><br>
  <hr>

  <div *ngFor="let segment of filteredSchema">
    <img src="../../assets/imgs/if_icon-arrow-down.png" class= "downArrow" (click)="changeState(segment)">
    {{segment.header}}
    <div *ngIf="segment.cool || showAll">
      <div *ngFor="let sub of segment.subheader">
        <img src="../../assets/imgs/if_icon-arrow-down.png" class= "downArrow" (click)="changeSubState(sub)" class="subtitle">
        {{sub.subheader}}
        <div *ngIf="sub.sweet || showAll">
          <div *ngFor="let question of sub.questions" class="mrl">
            <b>MR Level {{question.mrl}}:</b>
            <div *ngFor="let title of question.questionSet" class="question">
              <p class="navigate-links"  (click)="navToQuestion(title.questionId)">{{title.text}} <span *ngIf="title.questionStatus"> <p ion-button small color="primary">{{title.questionStatus}}</p></span></p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr>
  </div>

</ion-content>
