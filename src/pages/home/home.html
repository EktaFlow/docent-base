<title>Docent</title>

<topbar [blank]="true"></topbar>
<ng-container *ngIf="auth.isLoggedIn()">
<topbar></topbar>
</ng-container>


<ion-content padding>
<ng-container *ngIf="!auth.isLoggedIn()">
	<ng-container *ngIf="auth.unverified()">
	You must verify your Docent registration via email before logging on.
	</ng-container>
	<login></login>

	<div *ngIf="!showRegister" class="register-container">
	<h4>Not registered?</h4>
	<button ion-button color ="buttonBlue" (click)="showRegisterForm()"> Register for Docent </button>
	</div>
</ng-container>

<ng-container *ngIf="showRegister">
	<register></register>
</ng-container>

<ng-container *ngIf="auth.isLoggedIn()">
  <br>
  <br>
  <br>
  <br>
  <br>
  <h1>Start New Assessment</h1>
	<font *ngIf="!auth.isLoggedIn()"color="red">You must be a registered Docent User to begin an assessment</font><br />
	<font color="grey">Use this option to start a new assessment</font><br />
  <font color="grey">Please fill in all fields to begin an assessment</font>
  <br><br>
			<h6 class="assessment-name">Assessment Name</h6>
	<div class="topmost" style="z-index: 100;">
      <input type="text" name="assessmentName" placeholder = "Assessment Name" [(ngModel)]="assForm.name" >
	</div>

<!-- Save for auth -->
  <h6>Team Members</h6>
  <form>
    <div class="member-list">
      <li *ngFor = "let member of members">
        <pre>- {{member.email}}:              {{member.role}}</pre>
      </li>
    </div>
    <div class="members">
      <div style="width:48%">
      <input type="text" name="memEmail" placeholder = "Member Email" #memEmail>
      </div>
      <div class="member-role-button" style="width:48%">
        <input type="text" name="memRole" placeholder = "Member Role" #memRole>
        <div class = "buttons">
            <button (click)="removeMember()">
                <ion-icon name="remove-circle" color = "danger"></ion-icon>
            </button>
        </div>
      </div>
    </div>
    <div class = "buttons">
      <button (click)="addMember(memEmail.value,memRole.value)">
          <ion-icon name="add-circle" color = "secondary"></ion-icon>
      </button>
    </div>
  </form>

  <div class = "mid-first-page">
    <div class="scope">
      <h6>Scope</h6>
      <textarea name="scope" placeholder = "Enter Scope Here" [(ngModel)]="assForm.scope"></textarea>
    </div>
    <div class ="target-level-date">
      <div class = "target-level">
        <div style = "width:45%;">
          <h6>Target MRL</h6>
          <select name="targetMRL" [(ngModel)]="assForm.targetMRL">
            <option value="" disabled selected>Select One...</option>
            <option value = "1">1</option>
            <option value = "2">2</option>
            <option value = "3">3</option>
            <option value = "4">4</option>
            <option value = "5">5</option>
            <option value = "6">6</option>
            <option value = "7">7</option>
            <option value = "8">8</option>
            <option value = "9">9</option>
            <option value = "10">10</option>
          </select>
        </div>
        <div style = "width:45%;">
          <div style="display: flex;">
            <h6>Level Switching</h6>
      <button class="tooltip" style="background: white;">
				<!-- TODO: pull this text out of html -->
  			<span class="tooltiptext left">When on Docent will present questions above and below your selected level. This is to find the ceiling or floor of your MRL, if you pass or fail a level. When off, you will only see questions at your target level</span>
        <img src="assets/imgs/qmark.png" width="15" height="15">
      </button>
          </div>
          <select id="level-switching-select"[(ngModel)]="assForm.levelSwitching">
            <option value="true">On</option>
            <option value="" selected="selected">Off</option>
          </select>
        </div>
      </div>
      <h6>Date to Achieve Target MRL</h6>
      <input  type="date" name="dateAchieve" placeholder = "mm/dd/yyyy" [(ngModel)]="assForm.targetDate">
    </div>
  </div>
  <div class = "bottom">
		<div>
      <h6>Location</h6>
      <ion-input name="location" placeholder = "Enter Location" [(ngModel)]="assForm.location" ></ion-input>
    </div>
    <div>
      <h6>Deskbook Version</h6>
      <select id="deskbook-select"name="version" [(ngModel)]="assForm.deskBookVersion">
        <option value="" disabled selected>Select One...</option>
        <option value="2017">2017</option>
        <option value="2017">2016</option>
      </select>
    </div>
  </div>
  <div class = "thread-start">
    <div class = "choose-threads">
      <button style="background: white;"(click)="showThreads($event)">
        <img src="assets/imgs/if_icon-arrow-down.png" width="15" height="15">
      </button>
      <p><b>Choose Threads</b></p>
      <button class="tooltip" style="background: white;">
				<!-- TODO: pull this text out of html -->
  			<span class="tooltiptext right">Choose to include or exclude specific threads in the MRA. If a thread is unselected you will not be presented with any questions from that thread. Typically, all threads are left selected</span>
        <img src="assets/imgs/qmark.png" width="15" height="15">
      </button>
    </div>
    <div>
      <button ion-button color ="buttonBlue" (click)="createAssessment($event)">
        Start
      </button>
    </div>
  </div>
	<!--
  <div class="existing-assessment">
    <div>
      <h1>Continue Existing Assessment</h1>
      <p>
        Use this option to start working on an existing assessment. You will be<br> required to import your assessment
        data
      </p>
    </div>
    <div>
      <button ion-button class="grayed" ion-button (click)="helpButtonClick()" color="buttonBlue">
        Help Importing
      </button>
      <button (click)="showAssessmentsList($event)" ion-button color ="buttonBlue">
        Open Assessment
      </button>
    </div>
  </div>
	-->
</ng-container>
</ion-content>
